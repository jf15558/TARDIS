% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/link_mask.R
\name{link_mask}
\alias{link_mask}
\title{link_mask}
\usage{
link_mask(mask, glink = 8, klink = NULL, verbose = TRUE)
}
\arguments{
\item{mask}{A SpatRaster of geographic masks containing 1 (unmasked) or NA
(masked) values}

\item{glink}{The linkage mode for island cell clusters - 4 (Rook's case,
only orthogonal neighbours considered as touching) or 8 (Queen's case,
orthogonal and diagonal neighbours considered as touching).}

\item{klink}{The k-nearest neighbours to be linked for each island. If NULL
(default), the Voronoi neighbourhood of each island will be linked, i.e,
each neighbour which can be accessed in a straight line without passing
through any others first. Otherwise a numeric for the desired number of
links per island. For klink = 1, the returned links will form a minimum
spanning tree. klink can be set as high as the user likes, but any links not
part of the Voronoi linkage for a given polygon will be discarded.}

\item{verbose}{A logical to determine whether function progress should be
reported. Useful when dealing with large rasters (high resolution and/or many
layers).}
}
\value{
If mode = 'cells', a list of matrices with as many elements as
layers in x. Each matrix consists of two columns of cell IDs forming the
bridge pairs for its corresponding layer in x. If mode = 'lines', then a
list of sf multilinestrings, each of which can be plotted with its
corresponding layer in x to visualise the bridges.
}
\description{
Check a set of geographic mask rasters to detect islands and calculate
optimal bridging points between them. The function has two modes. Mode
'cells' returns the pairs of cell IDs forming each bridge. Cell IDs are
given as R's standard cell number order for raster objects. Mode 'cells'
is called internally by link_geog(), but it may be desirable to inspect
where the bridges have been placed. Mode 'lines' returns a set of lines
which can be plotted with the masks to visualize the bridging solutions.
}
\examples{
#library(terra)
#library(TARDIS)
#gal <- galapagos()
#gal <- crop(gal, extent(-92, -88, -2, 1))
#gal_m <- classify(gal, rcl = matrix(c(-Inf, 0, NA, 0, Inf, 1), ncol = 3, byrow = T), right = F)
#v <- link_mask(gal_m)
#k <- link_mask(gal_m, alg = "k")
#plot(gal_m[[1]])
#plot(v[[1]], add = T)
#plot(k[[1]], add = T, col = 2)
}
