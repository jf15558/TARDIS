% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_tardis.R
\name{create_tardis}
\alias{create_tardis}
\title{create_tardis}
\usage{
create_tardis(
  geog,
  times = NULL,
  glink = 8,
  tlink = 1,
  mask = NULL,
  mask.check = TRUE,
  kcon = NULL,
  rotations = NULL,
  verbose = TRUE
)
}
\arguments{
\item{geog}{A SpatRaster of digital elevation models recording a changing
landscape forwards in time (i.e. the first layer is the oldest). The
SpatRaster must be in geographic projection, i.e. longitude-latitude, with
elevations in metres. Negative values are permissible (e.g. bathymetry), but
missing values are not and should be replaced (e.g. with the average of the
surrounding cells).}

\item{times}{If there is only one layer in geog, then times is not used.
Otherwise, a vector of time bin boundaries with nlayers(geog) + 1 elements.
Each successive pair of entries in the vector will be treated as the time
range represented by successive layer in x. Entries should be positive numbers
expressing time in 'years ago'. The vector need not end in the present
(i.e. 0), but time must flow from oldest to youngest.}

\item{glink}{The linking mode for neighbouring grid cells within layers,
either 4 (Rook's case, orthogonal links only) or 8 (Queen's case, orthogonal
and diagonal).}

\item{tlink}{The linking mode for homologous grid cells between layers,
either 1 (forwards-in-time), 2 (backwards-in-time) or 3 (bidirectional).
The forwards-in-time case is the default, but there are cases where the
other options may be useful.}

\item{mask}{A SpatRaster of the same resolution, extent and number of layers
as geog, which will be used to designate non-traversable cells in the
corresponding layers in geog. This must contain only 1 (unmasked) or NA
(masked) values.}

\item{mask.check}{A logical determining whether mask should be checked for
islands using link_mask. This is the recommended default as bridges will be
added to ensure that the unmasked portion of the landscape is fully traversable.}

\item{kcon}{The number of mask connections to generate, as called by link_mask().}

\item{rotations}{A list with nlayers(geog) - 1 elements. Each element in the
list is a two-column numeric matrix containing the IDs of geographically
homologous cells between successive pairs of layers in x. Cell IDs are given
as R's standard cell number order for raster objects. Consequently, no cell
ID should be larger than ncell(geog). No list element can be blank as there
must be at least one edge between each pair of layers. Otherwise, any number
of edges between layers can be specified, although it  makes sense for there
to be maximally as many edges as cells within a layer.}

\item{verbose}{A logical to determine whether function progress should be
reported. Useful when dealing with large rasters (high resolution and/or many
layers)}
}
\value{
A spatiotemporal graph object of class 'tardis'.
}
\description{
Generate a 3D lattice graph from a time-ordered set of geographic landscape
rasters. Weights for horizontal edges within layers record the great circle
distances between adjacent raster cells in metres, adjusted' for differences
in cell elevation using Pythagoras's theorem. On global scales this adjustment
will be a second order effect, but will be much more important at smaller
scales. Weights for edges between layers are assigned as zero so
that they do not affect downstream distance calculations. In many cases,
the positions of cells will remain constant within the extent of each layer
in geog and so the edges through time will essentially be vertical. For
global landscapes over geological timescales, however, the positions of
landmasses chance noticeably due to continental drift. In these cases, the
edges can be altered so that they connect pairs of geographically homologous
cells through time. Single layer cases (i.e. no time element) are allowed.
}
\examples{
#library(terra)
#library(TARDIS)
#gal <- galapagos()
#gal <- crop(gal, extent(-92, -88, -2, 1))
#gal_m <- classify(gal, rcl = matrix(c(-Inf, 0, NA, 0, Inf, 1), ncol = 3, byrow = T), right = F)
#gt <- create_tardis(gal, times = c(seq(2.25, 0, -0.5), 0), mask = gal_m)
}
