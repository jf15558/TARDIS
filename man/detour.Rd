% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/detour.R
\name{detour}
\alias{detour}
\title{detours}
\usage{
detour(
  tardis,
  weights = NULL,
  paths,
  pindex = NULL,
  detour = 0.01,
  verbose = TRUE
)
}
\arguments{
\item{tardis}{An object of class 'tardis', produced by create_tardis}

\item{weights}{If not NULL, a vector of weights to be used instead of the
geographic distances in tardis. All entries must be >= 0
and finite (NaN or Inf), or NA. Typically the output of weight_tgraph}

\item{paths}{An object returned by the lcp function.}

\item{pindex}{The indices of the least cost paths in 'paths' to calculate
detours for. If NULL, then all paths will be analysed.}

\item{detour}{The proportional extra cost to detect accessible cells within,
a numeric > 0. The default is 1\% (i.e. 0.01). Optionally, a vector with as
many elements as pindex, to enable different detour amounts for each path.}

\item{verbose}{A logical indicating whether function progress should be
reported to the user.}
}
\value{
If no detours could be calculated for any of the paths, the function
will return NULL. Otherwise a simple features geometry collection, with a
multipolygon for each path where a detour could be calculated. As least cost
paths can extend across multiple time bins, the polygons in a multipolygon
represent bin-specific segments of the overall detour.
}
\description{
Calculate detours around least cost paths from tardis. The function identifies
all cells accessible from the least cost path within a certain proportional
additional cost relative to the cost of that least cost path. Detour
calculation within the tardis spatiotemporal graphs is performed by the
get_detour function of the cppRouting package. As defined there, accessible
cells (n) from the least cost path are those that meet the condition:
SP(o,n) + SP(n,d) < SP(o,d) + t, where SP is the cost of access, o the origin
node, d the destination node and t the extra cost. Any identified cells are
then converted to coordinates and the concave hull for that set of coordinates
calculated and returned.
}
